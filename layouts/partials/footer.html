<div class="footer">
    <p>Copyright &copy; <script>document.write(new Date().getFullYear())</script> Trinity Klein. All Rights Reserved. Powered by <a href="https://gohugo.io/">Hugo</a> with <a href="https://github.com/mrmierzejewski/hugo-theme-console/">Console Theme</a>.
    <br/>
    You are visitor number: <span id="visitors">Loading...</span>
    </p>
</div>
<script id = "visitors">
  document.addEventListener("DOMContentLoaded", async function () {
    const visitorElement = document.getElementById("visitors");
    if (!visitorElement) {
      console.warn("No element with id='visitors' found.");
      return;
    }

    try {
      const response = await fetch("https://mrbt64lmbb.execute-api.us-east-2.amazonaws.com/default/VisitorCounter");
      if (!response.ok) throw new Error("Failed to fetch visitor count");
        const data = await response.json();
        visitorElement.textContent = data["count"];
        visitorElement.classList.add("loaded");
        console.log("Visitor count fetched:", data);
    } catch (err) {
        console.error("Visitor count fetch failed:", err);
        visitorElement.textContent = "N/A";
        visitorElement.classList.add("loaded");
    }
  });

</script>
